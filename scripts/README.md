# Netguard Platform Automation Scripts

ÐÐ°Ð±Ð¾Ñ€ ÑÐºÑ€Ð¸Ð¿Ñ‚Ð¾Ð² Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ñ, Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¸ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Netguard Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ð¾Ð¹ Ð² Kubernetes.

## ðŸ“‹ ÐžÐ±Ð·Ð¾Ñ€ ÑÐºÑ€Ð¸Ð¿Ñ‚Ð¾Ð²

| Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ | ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ | Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ |
|--------|------------|---------------|
| `analyze-current-state.sh` | ÐÐ½Ð°Ð»Ð¸Ð· Ñ‚ÐµÐºÑƒÑ‰ÐµÐ³Ð¾ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ | `./analyze-current-state.sh` |
| `fix-namespaces.sh` | Ð˜ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ namespace'Ð¾Ð² | `./fix-namespaces.sh` |
| `deploy-complete.sh` | ÐŸÐ¾Ð»Ð½Ð¾Ðµ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ | `./deploy-complete.sh` |
| `test-complete.sh` | ÐšÐ¾Ð¼Ð¿Ð»ÐµÐºÑÐ½Ð¾Ðµ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ | `./test-complete.sh` |
| `compare-implementations.sh` | Ð¡Ñ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ CRD vs Aggregation | `./compare-implementations.sh` |
| `clean-redeploy.sh` | ÐŸÐ¾Ð»Ð½Ð°Ñ Ð¿ÐµÑ€ÐµÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° | `./clean-redeploy.sh` |
| `cleanup-old-deployment.sh` | ÐžÑ‡Ð¸ÑÑ‚ÐºÐ° ÑÑ‚Ð°Ñ€Ð¾Ð³Ð¾ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ñ | `./cleanup-old-deployment.sh` |
| `generate-certs.sh` | Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ TLS ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð¾Ð² | `./generate-certs.sh` |
| `dev-k8s.sh` | Ð Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡ÐµÑÐºÐ¸Ðµ ÑƒÑ‚Ð¸Ð»Ð¸Ñ‚Ñ‹ | `./dev-k8s.sh [command]` |

## ðŸš€ Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‚Ð°Ñ€Ñ‚

### 1. ÐÐ½Ð°Ð»Ð¸Ð· Ñ‚ÐµÐºÑƒÑ‰ÐµÐ³Ð¾ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ
```bash
cd netguard-pg-backend/scripts
./analyze-current-state.sh
```

### 2. Ð˜ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸ (Ð¿Ñ€Ð¸ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ÑÑ‚Ð¸)
```bash
./fix-namespaces.sh
```

### 3. ÐŸÐ¾Ð»Ð½Ð¾Ðµ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ
```bash
./deploy-complete.sh
```

### 4. Ð¡Ñ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¹ (ÐµÑÐ»Ð¸ ÐµÑÑ‚ÑŒ Ð¾Ð±Ðµ)
```bash
./compare-implementations.sh
```

### 5. Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ
```bash
./test-complete.sh
```

## ðŸ”„ ÐŸÐ¾Ð»Ð½Ð°Ñ Ð¿ÐµÑ€ÐµÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° (Ð¿Ñ€Ð¸ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ð°Ñ… Ñ namespace'Ð°Ð¼Ð¸)

Ð•ÑÐ»Ð¸ Ñƒ Ð²Ð°Ñ ÐµÑÑ‚ÑŒ ÑÑ‚Ð°Ñ€Ð¾Ðµ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ Ð² `default` namespace:

```bash
# ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¿Ð¾Ð»Ð½Ð°Ñ Ð¿ÐµÑ€ÐµÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°
./clean-redeploy.sh
```

Ð­Ñ‚Ð¾Ñ‚ ÑÐºÑ€Ð¸Ð¿Ñ‚ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸:
1. ðŸ§¹ ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ ÑÑ‚Ð°Ñ€Ð¾Ðµ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ Ð¸Ð· default namespace
2. ðŸ”§ Ð˜ÑÐ¿Ñ€Ð°Ð²Ð¸Ñ‚ namespace'Ñ‹ Ð² ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸ 
3. ðŸ” ÐŸÐµÑ€ÐµÐ³ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐµÑ‚ TLS ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ñ‹
4. ðŸš€ Ð Ð°Ð·Ð²ÐµÑ€Ð½ÐµÑ‚ Ð² netguard-system namespace
5. ðŸ§ª ÐŸÑ€Ð¾Ñ‚ÐµÑÑ‚Ð¸Ñ€ÑƒÐµÑ‚ v1beta1 (Aggregation Layer)

## ðŸ“– Ð”ÐµÑ‚Ð°Ð»ÑŒÐ½Ð¾Ðµ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ ÑÐºÑ€Ð¸Ð¿Ñ‚Ð¾Ð²

### `analyze-current-state.sh`

**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** ÐšÐ¾Ð¼Ð¿Ð»ÐµÐºÑÐ½Ñ‹Ð¹ Ð°Ð½Ð°Ð»Ð¸Ð· Ñ‚ÐµÐºÑƒÑ‰ÐµÐ³Ð¾ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ Netguard Ð² Kubernetes ÐºÐ»Ð°ÑÑ‚ÐµÑ€Ðµ.

**Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸:**
- âœ… ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Ðº minikube
- ðŸ“ ÐÐ½Ð°Ð»Ð¸Ð· namespace'Ð¾Ð² Ð¸ Ð¸Ñ… ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ð³Ð¾
- ðŸš€ ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° deployments Ð¸ Ð¿Ð¾Ð´Ð¾Ð²
- ðŸ”Œ ÐÐ½Ð°Ð»Ð¸Ð· ÑÐµÑ€Ð²Ð¸ÑÐ¾Ð² Ð¸ Ð¸Ñ… Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾ÑÑ‚Ð¸
- ðŸŽ¯ ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° API Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð² Ð¸ CRD
- ðŸ” Ð’Ñ‹ÑÐ²Ð»ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸
- ðŸ“ˆ ÐÐ½Ð°Ð»Ð¸Ð· Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð²
- ðŸ’¡ Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¹

**ÐšÐ¾Ð¼Ð°Ð½Ð´Ñ‹:**
```bash
./analyze-current-state.sh                # ÐŸÐ¾Ð»Ð½Ñ‹Ð¹ Ð°Ð½Ð°Ð»Ð¸Ð·
./analyze-current-state.sh namespaces     # Ð¢Ð¾Ð»ÑŒÐºÐ¾ namespace'Ñ‹
./analyze-current-state.sh workloads      # Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ð¾Ð´Ñ‹ Ð¸ deployments
./analyze-current-state.sh api            # Ð¢Ð¾Ð»ÑŒÐºÐ¾ API Ñ€ÐµÑÑƒÑ€ÑÑ‹
./analyze-current-state.sh recommendations # Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸
```

### `fix-namespaces.sh`

**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** Ð˜ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð½ÐµÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ð¹ namespace'Ð¾Ð² Ð² ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸.

**Ð§Ñ‚Ð¾ Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÑÐµÑ‚:**
- âœ… Ð—Ð°Ð¼ÐµÐ½ÑÐµÑ‚ `namespace: default` Ð½Ð° `namespace: netguard-system`
- ðŸ”§ ÐžÐ±Ð½Ð¾Ð²Ð»ÑÐµÑ‚ BACKEND_ENDPOINT Ñ Ð¿Ð¾Ð»Ð½Ñ‹Ð¼ FQDN
- ðŸ—‘ï¸ Ð£Ð´Ð°Ð»ÑÐµÑ‚ Ð´ÑƒÐ±Ð»Ð¸Ñ€ÑƒÑŽÑ‰Ð¸ÐµÑÑ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ñ ÑÐµÑ€Ð²Ð¸ÑÐ¾Ð²
- ðŸ“‹ ÐžÐ±Ð½Ð¾Ð²Ð»ÑÐµÑ‚ kustomization.yaml
- ðŸ’¾ Ð¡Ð¾Ð·Ð´Ð°ÐµÑ‚ Ñ€ÐµÐ·ÐµÑ€Ð²Ð½ÑƒÑŽ ÐºÐ¾Ð¿Ð¸ÑŽ Ð¿ÐµÑ€ÐµÐ´ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸ÑÐ¼Ð¸

**ÐŸÑ€Ð¸Ð¼ÐµÑ€:**
```bash
./fix-namespaces.sh

# Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚:
# âœ… configmap.yaml - Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½ (1 namespace'Ð¾Ð² netguard-system)
# âœ… backend-deployment.yaml - Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½ (2 namespace'Ð¾Ð² netguard-system)
# âœ… deployment.yaml - Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½ (1 namespace'Ð¾Ð² netguard-system)
# ðŸŽ‰ Ð’ÑÐµ namespace'Ñ‹ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ñ‹!
```

### `deploy-complete.sh`

**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** ÐŸÐ¾Ð»Ð½Ð¾Ðµ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ Netguard Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ñ‹ Ð² Kubernetes.

**Ð­Ñ‚Ð°Ð¿Ñ‹ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ñ:**
1. ðŸ” ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¿Ñ€ÐµÐ´Ð²Ð°Ñ€Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ð¹
2. ðŸ§¹ ÐžÑ‡Ð¸ÑÑ‚ÐºÐ° Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰Ð¸Ñ… Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ð¹
3. ðŸ“ Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ namespace Ñ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¼Ð¸ Ð¼ÐµÑ‚ÐºÐ°Ð¼Ð¸
4. ðŸ”§ Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ Kubernetes ÐºÐ¾Ð´Ð°
5. ðŸ—ï¸ Ð¡Ð±Ð¾Ñ€ÐºÐ° Docker Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð²
6. ðŸ“¦ Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð² Ð² minikube (ÐµÑÐ»Ð¸ Ð¾Ð±Ð½Ð°Ñ€ÑƒÐ¶ÐµÐ½)
7. ðŸš€ Ð Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ Ð² Kubernetes
8. â³ ÐžÐ¶Ð¸Ð´Ð°Ð½Ð¸Ðµ Ð³Ð¾Ñ‚Ð¾Ð²Ð½Ð¾ÑÑ‚Ð¸ Ð²ÑÐµÑ… ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ð¾Ð²
9. ðŸ§ª Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð¸ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ‚ÐµÑÑ‚Ð¾Ð²Ð¾Ð³Ð¾ Ñ€ÐµÑÑƒÑ€ÑÐ°

**ÐšÐ¾Ð¼Ð°Ð½Ð´Ñ‹:**
```bash
./deploy-complete.sh         # ÐŸÐ¾Ð»Ð½Ð¾Ðµ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ
./deploy-complete.sh cleanup # Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ð¾Ñ‡Ð¸ÑÑ‚ÐºÐ°
./deploy-complete.sh status  # ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ ÑÑ‚Ð°Ñ‚ÑƒÑ
```

**ÐžÑÐ¾Ð±ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸:**
- ðŸŽ¯ ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð¾Ð±Ð½Ð°Ñ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ minikube
- ðŸ“Š ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½Ñ‹Ð¹ ÑÑ‚Ð°Ñ‚ÑƒÑ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ñ
- âš¡ ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° APIService Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾ÑÑ‚Ð¸
- ðŸ”„ Ð¢Ð°Ð¹Ð¼Ð°ÑƒÑ‚Ñ‹ Ð¸ retry Ð»Ð¾Ð³Ð¸ÐºÐ°

### `test-complete.sh`

**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** ÐšÐ¾Ð¼Ð¿Ð»ÐµÐºÑÐ½Ð¾Ðµ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð²ÑÐµÑ… Ð°ÑÐ¿ÐµÐºÑ‚Ð¾Ð² Netguard Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ñ‹.

**Ð¢ÐµÑÑ‚Ñ‹:**
1. **Ð˜Ð½Ñ„Ñ€Ð°ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð½Ñ‹Ðµ Ñ‚ÐµÑÑ‚Ñ‹:**
   - âœ… Namespace ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚
   - ðŸš€ Ð Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ñ Ð³Ð¾Ñ‚Ð¾Ð²Ñ‹
   - ðŸŸ¢ ÐŸÐ¾Ð´Ñ‹ Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½Ñ‹
   - ðŸ”Œ Ð¡ÐµÑ€Ð²Ð¸ÑÑ‹ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹

2. **API Ñ‚ÐµÑÑ‚Ñ‹:**
   - ðŸ”— APIService Ð·Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½
   - ðŸŽ¯ API Ñ€ÐµÑÑƒÑ€ÑÑ‹ Ð¾Ð±Ð½Ð°Ñ€ÑƒÐ¶Ð¸Ð²Ð°ÑŽÑ‚ÑÑ
   - ðŸ“ CRUD Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚

3. **Ð¢ÐµÑÑ‚Ñ‹ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ:**
   - ðŸ”„ Backend Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½
   - â¤ï¸ Health endpoints Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚

4. **Ð¢ÐµÑÑ‚Ñ‹ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð°:**
   - ðŸ“Š Ð›Ð¾Ð³Ð¸ Ð±ÐµÐ· ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð¾ÑˆÐ¸Ð±Ð¾Ðº

**ÐšÐ¾Ð¼Ð°Ð½Ð´Ñ‹:**
```bash
./test-complete.sh              # Ð’ÑÐµ Ñ‚ÐµÑÑ‚Ñ‹
./test-complete.sh quick        # Ð‘Ñ‹ÑÑ‚Ñ€Ð°Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ°
./test-complete.sh performance  # ÐÐ°Ð³Ñ€ÑƒÐ·Ð¾Ñ‡Ð½Ð¾Ðµ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ
./test-complete.sh status       # Ð”ÐµÑ‚Ð°Ð»ÑŒÐ½Ñ‹Ð¹ ÑÑ‚Ð°Ñ‚ÑƒÑ
./test-complete.sh logs         # ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð»Ð¾Ð³Ð¸
```

**ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ð²Ñ‹Ð²Ð¾Ð´Ð°:**
```
ðŸ§ª ÐšÐ¾Ð¼Ð¿Ð»ÐµÐºÑÐ½Ð¾Ðµ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Netguard Platform
=============================================

ðŸ§ª Ð¢ÐµÑÑ‚: Namespace ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚
âœ… PASSED: Namespace ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚

ðŸ§ª Ð¢ÐµÑÑ‚: CRUD Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚
  Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ñ‚ÐµÑÑ‚Ð¾Ð²Ð¾Ð³Ð¾ Ñ€ÐµÑÑƒÑ€ÑÐ°: test-crud-service-1699123456
  Ð§Ñ‚ÐµÐ½Ð¸Ðµ ÑÐ¾Ð·Ð´Ð°Ð½Ð½Ð¾Ð³Ð¾ Ñ€ÐµÑÑƒÑ€ÑÐ°
  ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ñ€ÐµÑÑƒÑ€ÑÐ°
  Ð£Ð´Ð°Ð»ÐµÐ½Ð¸Ðµ Ñ‚ÐµÑÑ‚Ð¾Ð²Ð¾Ð³Ð¾ Ñ€ÐµÑÑƒÑ€ÑÐ°
  âœ“ Ð’ÑÐµ CRUD Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ñ‹ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾
âœ… PASSED: CRUD Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚

ðŸ“Š Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ:
==========================
ÐžÐ±Ñ‰ÐµÐµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ñ‚ÐµÑÑ‚Ð¾Ð²: 10
ÐŸÑ€Ð¾ÑˆÐ»Ð¾ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾: 10
ÐŸÑ€Ð¾Ð²Ð°Ð»Ð¸Ð»Ð¾ÑÑŒ: 0
ðŸŽ‰ Ð’ÑÐµ Ñ‚ÐµÑÑ‚Ñ‹ Ð¿Ñ€Ð¾ÑˆÐ»Ð¸ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾!
```

### `compare-implementations.sh`

**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** Ð¡Ñ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ CRD (v1alpha1) Ð¸ Aggregation Layer (v1beta1) Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¹.

**Ð’Ð°Ð¶Ð½Ð¾:** Netguard Ð¸Ð¼ÐµÐµÑ‚ Ð´Ð²Ðµ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸:
- **v1alpha1** - Ñ‚Ñ€Ð°Ð´Ð¸Ñ†Ð¸Ð¾Ð½Ð½Ð°Ñ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ñ‡ÐµÑ€ÐµÐ· CustomResourceDefinitions (CRD)
- **v1beta1** - ÑÐ¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð°Ñ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ñ‡ÐµÑ€ÐµÐ· Kubernetes Aggregation Layer

**Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸:**
- ðŸ” ÐžÐ±Ð½Ð°Ñ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ Ð¾Ð±ÐµÐ¸Ñ… Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¹
- ðŸ“Š Ð¡Ñ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ API Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð² Ð¿Ð¾ Ð²ÐµÑ€ÑÐ¸ÑÐ¼
- ðŸ§ª Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ CRUD Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¹ Ð´Ð»Ñ ÐºÐ°Ð¶Ð´Ð¾Ð¹ Ð²ÐµÑ€ÑÐ¸Ð¸
- âš¡ Ð¡Ñ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸
- ðŸ“¦ ÐÐ½Ð°Ð»Ð¸Ð· ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ñ… Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð²
- ðŸ’¡ Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸ Ð¿Ð¾ Ð²Ñ‹Ð±Ð¾Ñ€Ñƒ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸

**ÐšÐ¾Ð¼Ð°Ð½Ð´Ñ‹:**
```bash
./compare-implementations.sh                # ÐŸÐ¾Ð»Ð½Ð¾Ðµ ÑÑ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ
./compare-implementations.sh check          # ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾ÑÑ‚Ð¸
./compare-implementations.sh crud           # Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ CRUD
./compare-implementations.sh performance    # Ð¡Ñ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸
./compare-implementations.sh recommendations # Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸
```

**ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ð²Ñ‹Ð²Ð¾Ð´Ð°:**
```
ðŸ” Ð¡Ñ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¹ Netguard
================================
v1alpha1 (CRD) vs v1beta1 (Aggregation Layer)

ðŸ”¸ Aggregation Layer (v1beta1):
âœ… APIService v1beta1.netguard.sgroups.io Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½

ðŸ”¸ CRD Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ (v1alpha1):
âœ… ÐÐ°Ð¹Ð´ÐµÐ½Ð¾ 8 netguard CRD

ðŸ“Š Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð¿Ð¾ Ð²ÐµÑ€ÑÐ¸ÑÐ¼:
  - v1alpha1 (CRD): 8 Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð²
  - v1beta1 (Aggregation): 8 Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð²

ðŸ’¡ Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸:
âš  ÐžÐ±Ð½Ð°Ñ€ÑƒÐ¶ÐµÐ½Ñ‹ ÐžÐ‘Ð• Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð¾Ð´Ð½Ð¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾
1. ðŸ”§ Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¾Ð´Ð½Ñƒ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸ÑŽ
2. ðŸŽ¯ Ð”Ð»Ñ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Aggregation Layer Ñ„Ð¾ÐºÑƒÑÐ¸Ñ€ÑƒÐ¹Ñ‚ÐµÑÑŒ Ð½Ð° v1beta1
```

### `dev-k8s.sh`

**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** Ð Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡ÐµÑÐºÐ¸Ðµ ÑƒÑ‚Ð¸Ð»Ð¸Ñ‚Ñ‹ (ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ð¹ ÑÐºÑ€Ð¸Ð¿Ñ‚).

**ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹:**
```bash
./dev-k8s.sh dev       # ÐŸÐ¾Ð»Ð½Ñ‹Ð¹ Ñ†Ð¸ÐºÐ» Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸
./dev-k8s.sh test      # Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ API
./dev-k8s.sh logs      # ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ð»Ð¾Ð³Ð¾Ð²
./dev-k8s.sh forward   # Port forwarding
```

## ðŸ”„ Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÐ¼Ñ‹Ðµ workflow'Ñ‹

### ÐŸÐµÑ€Ð²Ð¸Ñ‡Ð½Ð¾Ðµ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ
```bash
# 1. ÐÐ½Ð°Ð»Ð¸Ð· ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ
./analyze-current-state.sh

# 2. Ð˜ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸ (ÐµÑÐ»Ð¸ Ð½ÑƒÐ¶Ð½Ð¾)
./fix-namespaces.sh

# 3. Ð Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ
./deploy-complete.sh

# 4. Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ
./test-complete.sh
```

### ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰ÐµÐ³Ð¾ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ñ
```bash
# 1. ÐÐ½Ð°Ð»Ð¸Ð· Ñ‚ÐµÐºÑƒÑ‰ÐµÐ³Ð¾ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ
./analyze-current-state.sh

# 2. ÐžÑ‡Ð¸ÑÑ‚ÐºÐ° Ð¸ Ð¿ÐµÑ€ÐµÑ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ
./deploy-complete.sh cleanup
./deploy-complete.sh

# 3. ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ°
./test-complete.sh quick
```

### ÐžÑ‚Ð»Ð°Ð´ÐºÐ° Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼
```bash
# 1. ÐÐ½Ð°Ð»Ð¸Ð· Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼
./analyze-current-state.sh config

# 2. ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ð»Ð¾Ð³Ð¾Ð²
./test-complete.sh logs

# 3. Ð¡Ñ‚Ð°Ñ‚ÑƒÑ ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹
./deploy-complete.sh status

# 4. Ð ÑƒÑ‡Ð½Ð°Ñ Ð´Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸ÐºÐ°
kubectl get all -n netguard-system
kubectl describe apiservice v1beta1.netguard.sgroups.io
```

### Ð Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡ÐµÑÐºÐ¸Ð¹ Ñ†Ð¸ÐºÐ»
```bash
# 1. Ð‘Ñ‹ÑÑ‚Ñ€Ð°Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ°
./test-complete.sh quick

# 2. ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ð»Ð¾Ð³Ð¾Ð²
./dev-k8s.sh logs

# 3. Port forwarding Ð´Ð»Ñ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°
./dev-k8s.sh forward
```

## ðŸ›¡ï¸ Best Practices

### Namespace'Ñ‹
- âœ… Ð’ÑÐµ netguard ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ñ‹ Ð² `netguard-system`
- âŒ Ð˜Ð·Ð±ÐµÐ³Ð°Ð¹Ñ‚Ðµ `default` namespace
- ðŸ·ï¸ Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ðµ Ð¼ÐµÑ‚ÐºÐ¸ Ð¸ Ð°Ð½Ð½Ð¾Ñ‚Ð°Ñ†Ð¸Ð¸

### Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ
- ðŸ”’ Pod Security Standards: `restricted`
- ðŸ›¡ï¸ Security contexts Ð´Ð»Ñ Ð²ÑÐµÑ… ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¾Ð²
- ðŸ” TLS Ð´Ð»Ñ Ð²ÑÐµÑ… Ð²Ð½ÐµÑˆÐ½Ð¸Ñ… ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ð¹

### ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³
- ðŸ“Š Health Ð¸ readiness probes
- ðŸ“ Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ðµ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ
- ðŸ” Tracing Ñ‡ÐµÑ€ÐµÐ· OpenTelemetry

### Ð ÐµÑÑƒÑ€ÑÑ‹
- âš¡ Resource requests Ð¸ limits
- ðŸ“ˆ Horizontal Pod Autoscaler Ð¿Ñ€Ð¸ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ÑÑ‚Ð¸
- ðŸ’¾ Persistent volumes Ð´Ð»Ñ stateful ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ð¾Ð²

## â— Ð£ÑÑ‚Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð½ÐµÐ¸ÑÐ¿Ñ€Ð°Ð²Ð½Ð¾ÑÑ‚ÐµÐ¹

### APIService Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½
```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÑÑ‚Ð°Ñ‚ÑƒÑ
kubectl describe apiservice v1beta1.netguard.sgroups.io

# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð´Ñ‹
kubectl get pods -n netguard-system

# Ð›Ð¾Ð³Ð¸ API ÑÐµÑ€Ð²ÐµÑ€Ð°
kubectl logs -n netguard-system deployment/netguard-apiserver
```

### Backend Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½
```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ connectivity
./test-complete.sh quick

# Ð›Ð¾Ð³Ð¸ backend
kubectl logs -n netguard-system deployment/netguard-backend

# Port forwarding Ð´Ð»Ñ Ð¾Ñ‚Ð»Ð°Ð´ÐºÐ¸
kubectl port-forward -n netguard-system service/netguard-backend 8080:8080
```

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ñ Ð¾Ð±Ñ€Ð°Ð·Ð°Ð¼Ð¸
```bash
# Ð”Ð»Ñ minikube - Ð·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ Ð¾Ð±Ñ€Ð°Ð·Ñ‹ Ð·Ð°Ð½Ð¾Ð²Ð¾
minikube image load netguard/k8s-apiserver:latest
minikube image load netguard/pg-backend:latest

# ÐŸÐµÑ€ÐµÑÐ¾Ð±Ñ€Ð°Ñ‚ÑŒ Ð¾Ð±Ñ€Ð°Ð·Ñ‹
make docker-build-k8s-apiserver
```

## ðŸ“š Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ñ€ÐµÑÑƒÑ€ÑÑ‹

- **ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ:** `../config/k8s/README.md`
- **Makefile targets:** `../Makefile`
- **API Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ:** `../swagger-ui/`
- **ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð²:** `../test/k8s/`

## ðŸ¤ ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ°

ÐŸÑ€Ð¸ Ð²Ð¾Ð·Ð½Ð¸ÐºÐ½Ð¾Ð²ÐµÐ½Ð¸Ð¸ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼:

1. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Ð¿Ð¾Ð»Ð½Ñ‹Ð¹ Ð°Ð½Ð°Ð»Ð¸Ð·: `./analyze-current-state.sh`
2. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸: `./analyze-current-state.sh recommendations`
3. Ð¡Ð¾Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸Ñ‡ÐµÑÐºÑƒÑŽ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ:
   ```bash
   kubectl get all -A | grep netguard > debug-info.txt
   kubectl describe apiservice v1beta1.netguard.sgroups.io >> debug-info.txt
   ./test-complete.sh logs >> debug-info.txt
   ``` 